<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>플레이스 순위 분석 - 세미콜론</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="service.css">
</head>
<body>
    <header>
        <nav class="nav-container">
            <div class="logo">
                <a href="index.html">
                    <img src="logo.png" alt="세미콜론 로고">
                </a>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html">홈으로</a></li>
            </ul>
        </nav>
    </header>

    <main class="service-main">
        <div class="search-container">
            <h1>플레이스 순위 분석</h1>
            <div class="search-box">
                <input type="text" id="placeSearch" placeholder="업체명을 입력해주세요">
                <button type="button" id="searchButton">검색</button>
            </div>
            
            <div class="search-results" id="searchResults">
                <!-- 검색 결과가 여기에 표시됩니다 -->
            </div>
        </div>
    </main>

    <script>
        let selectedPlace = null;

        document.getElementById('searchButton').addEventListener('click', searchPlace);
        document.getElementById('placeSearch').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPlace();
            }
        });

        function searchPlace() {
            const searchTerm = document.getElementById('placeSearch').value;
            if (!searchTerm) return;

            // 실제로는 API 호출이 들어가야 하지만, 예시로 더미 데이터를 사용
            const dummyResults = [
                {
                    id: 1,
                    name: searchTerm + " - 강남점",
                    address: "서울 강남구 테헤란로 123",
                    category: "음식점"
                },
                {
                    id: 2,
                    name: searchTerm + " - 서초점",
                    address: "서울 서초구 서초대로 456",
                    category: "음식점"
                }
            ];

            displayResults(dummyResults);
        }

        function displayResults(results) {
            const resultsContainer = document.getElementById('searchResults');
            resultsContainer.innerHTML = '';

            results.forEach(place => {
                const placeElement = document.createElement('div');
                placeElement.className = 'place-item';
                placeElement.innerHTML = `
                    <h3>${place.name}</h3>
                    <p>${place.address}</p>
                    <p class="category">${place.category}</p>
                `;

                placeElement.addEventListener('click', () => selectPlace(place));
                resultsContainer.appendChild(placeElement);
            });
        }

        function selectPlace(place) {
            selectedPlace = place;
            const searchResults = document.getElementById('searchResults');
            searchResults.innerHTML = '';
            
            const selectedPlaceElement = document.createElement('div');
            selectedPlaceElement.className = 'selected-place';
            selectedPlaceElement.innerHTML = `
                <h3>${place.name}</h3>
                <p>${place.address}</p>
                <p class="category">${place.category}</p>
                <div class="keyword-search">
                    <input type="text" id="keywordInput" placeholder="분석할 키워드를 입력해주세요">
                    <button type="button" id="analyzeButton">분석하기</button>
                </div>
            `;
            
            searchResults.appendChild(selectedPlaceElement);
            
            document.getElementById('analyzeButton').addEventListener('click', analyzeKeyword);
        }

        function analyzeKeyword() {
            const keyword = document.getElementById('keywordInput').value;
            if (!keyword) return;

            // 실제로는 API 호출이 필요합니다
            // 예시 데이터로 결과를 보여줍니다
            const analysisResult = {
                currentRank: 15,
                searchVolume: "월 1,200회",
                competition: "중간"
            };

            displayAnalysis(analysisResult);
        }

        function displayAnalysis(result) {
            const analysisElement = document.createElement('div');
            analysisElement.className = 'analysis-result';
            analysisElement.innerHTML = `
                <h3>분석 결과</h3>
                <div class="result-item">
                    <p>현재 순위: <strong>${result.currentRank}위</strong></p>
                    <p>월간 검색량: <strong>${result.searchVolume}</strong></p>
                    <p>경쟁 강도: <strong>${result.competition}</strong></p>
                </div>
            `;

            const searchResults = document.getElementById('searchResults');
            searchResults.appendChild(analysisElement);
        }
    </script>
</body>
</html> 
